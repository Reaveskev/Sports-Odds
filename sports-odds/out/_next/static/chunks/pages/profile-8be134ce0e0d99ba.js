(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9344:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return s(4654)}])},4654:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return x}});var t=s(5893),l=s(6154),i=s(7294),n=s(8094),r=s.n(n),o=s(183),d=s(4566),c=s(8702),h=s.n(c),_=function(e){let{setMoney:a}=e,{user:s,setUser:n,setAllTransactions:r,allTransactions:o}=(0,d.b)(),[c,_]=(0,i.useState)(s.fake_money),[p,m]=(0,i.useState)(""),[u,x]=(0,i.useState)(""),j=new Date,b=String(j.getDate()).padStart(2,"0"),f=String(j.getMonth()+1).padStart(2,"0"),N=j.getFullYear(),g="".concat(f,"/").concat(b,"/").concat(N),v=()=>{if(u>0){let e=s.fake_money+parseFloat(u);l.Z.post("https://sports-odds.herokuapp.com/api/update_money",{fake_money:e}).then(s=>{200===s.status&&n(s.data),l.Z.post("https://sports-odds.herokuapp.com/api/addTransaction",{date:g,transaction_type:"Deposit",transaction_amount:u,money_in_account:e}).then(e=>{200===e.status&&(r(e.data),alert("$".concat(u," has been added to your account!")),x(""),a(!1))})})}},y=()=>{if(p>0&&c>=p){let e=s.fake_money-parseFloat(p);l.Z.post("https://sports-odds.herokuapp.com/api/update_money",{fake_money:e}).then(s=>{200===s.status&&n(s.data),l.Z.post("https://sports-odds.herokuapp.com/api/addTransaction",{date:g,transaction_type:"Withdrawal",transaction_amount:p,money_in_account:e}).then(e=>{200===e.status&&(r(e.data),alert("$".concat(p," has been withdrawn from your account!")),m(""),a(!1))})})}};return(0,t.jsxs)("div",{className:h().betting_account,children:[(0,t.jsx)("h1",{children:"Betting Account"}),(0,t.jsxs)("div",{style:{margin:5,paddingLeft:5,paddingRight:5},children:[(0,t.jsx)("label",{htmlFor:"deposit",children:"Deposit:"}),(0,t.jsx)("input",{type:"number",id:"deposit",value:u,onChange:e=>x(e.target.value)}),(0,t.jsx)("button",{onClick:v,children:"Deposit"})]}),(0,t.jsxs)("div",{style:{margin:5,paddingLeft:5,paddingRight:5},children:[(0,t.jsx)("label",{htmlFor:"withdraw",children:"Withdraw:"}),(0,t.jsx)("input",{type:"number",id:"withdraw",value:p,onChange:e=>m(e.target.value)}),(0,t.jsx)("button",{onClick:y,children:"Withdraw"})]})]})},p=s(3363),m=s.n(p);let u=()=>{let{setUser:e}=(0,d.b)(),[a,s]=(0,i.useState)(!1),[n,r]=(0,i.useState)(null);async function o(a){a.preventDefault(),s(!0);let t=new FormData;t.append("file",n);let i=await l.Z.post("https://sports-odds.herokuapp.com/api/dropbox/upload",t),r=i.data,o=r.url,d=o.replace("dl=0","raw=1");l.Z.post("https://sports-odds.herokuapp.com/api/update_image",{image:d}).then(a=>{200===a.status&&e(a.data),s(!1)})}return(0,t.jsx)("div",{className:m().container,children:(0,t.jsxs)("form",{style:{display:"flex",alignItems:"center",flexDirection:"column"},onSubmit:o,children:[(0,t.jsx)("input",{type:"file",name:"file",id:"file",className:m().fileInput,onChange:function(e){r(e.target.files[0])},disabled:a}),(0,t.jsx)("label",{htmlFor:"file",className:m().uploadLabel,children:"Choose a file"}),n&&(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,t.jsxs)("p",{className:m().fileUrl,children:["Upload ",n.name,"?"]})," "]}),(0,t.jsx)("button",{className:m().uploadButton,onClick:o,disabled:!n||a,children:a?"Uploading...":"Upload"})]})})};var x=function(){let[e,a]=(0,i.useState)(),[s,n]=(0,i.useState)(),[c,h]=(0,i.useState)(),[p,m]=(0,i.useState)(),[x,j]=(0,i.useState)(),[b,f]=(0,i.useState)(!1),[N,g]=(0,i.useState)(!1),[v,y]=(0,i.useState)(!1),{user:k,setUser:B,allBets:C,setAllBets:M,allBetsOutcome:w,setAllBetsOutcome:S,setAllTransactions:L,allTransactions:F}=(0,d.b)(),H=e=>{if(e){for(let a=0;a<e.length;a++)if(e[a].name===x.teams){let s=e[a].competitions[0].competitors[0],t=e[a].competitions[0].competitors[1];if(!0!==e[a].status.type.completed){alert("This game is not over yet. Please try again later!"),j(""),y(!1);break}let i={money_line:!0===s.winner?s.team.name:t.team.name,point_spread:x.money_line_team===s.team.name?s.score-t.score:t.score-s.score,total_points:parseInt(s.score)+parseInt(t.score)},n={bet_id:x.bet_id};if(x.point_spread&&(x.point_spread.slice(0,x.point_spread.indexOf("(")).trim()===i.point_spread?n.point_spread=!0:n.point_spread=!1),x.total_points){let e=x.total_points.slice(0,x.total_points.indexOf("(")).trim();"O"===e.charAt(0)?e.slice(1)>i.total_points&&(n.total_points=!0):"U"===e.charAt(0)&&e.slice(1)<i.total_points&&(n.total_points=!1)}if(x.money_line_team&&(x.money_line_team===i.money_line?n.money_line=!0:n.money_line=!1),!1!==Object.values(n)?n.payout=!0:n.payout=!1,!0===n.payout){let e=k.fake_money+x.payout;l.Z.post("https://sports-odds.herokuapp.com/api/update_money",{fake_money:e}).then(a=>{200===a.status&&B(a.data);let s=new Date,t=String(s.getDate()).padStart(2,"0"),i=String(s.getMonth()+1).padStart(2,"0"),n=s.getFullYear(),r="".concat(i,"/").concat(t,"/").concat(n);l.Z.post("https://sports-odds.herokuapp.com/api/addTransaction",{date:r,transaction_type:"Won bet",transaction_amount:x.payout,money_in_account:e}).then(e=>{200===e.status&&(L(e.data),j(""),y(!1))})})}l.Z.post("https://sports-odds.herokuapp.com/api/addBetOutcome",n).then(e=>{200===e.status&&l.Z.get("https://sports-odds.herokuapp.com/api/seeBetsOutcome").then(e=>{200===e.status&&S(e.data)})});break}}},A=()=>{l.Z.get("https://site.api.espn.com/apis/site/v2/sports/".concat(x.sport,"/").concat(x.league,"/scoreboard?dates=").concat(x.game_date)).then(e=>{H(e.data.events)})},Z=e=>{a(e.target.value)},D=e=>{h(e.target.value)},P=e=>{n(e.target.value)},O=e=>{m(e.target.value)},T=()=>{m(""),n(""),a(""),h("")};(0,i.useEffect)(()=>{l.Z.get("https://sports-odds.herokuapp.com/api/seeBets").then(e=>{200===e.status?(M(e.data),l.Z.get("https://sports-odds.herokuapp.com/api/seeBetsOutcome").then(e=>{200===e.status&&(S(e.data),l.Z.get("https://sports-odds.herokuapp.com/api/getTransaction").then(e=>{200===e.status&&L(e.data)}))})):console.log("Did not work as planned")})},[]);let W=async t=>{t.preventDefault();try{""===c&&h(k.username),""===e&&a(k.f_name),""===s&&n(k.l_name),""===p&&m(k.password),await l.Z.post("https://sports-odds.herokuapp.com/api/update_info",{username:c,password:p,firstName:e,lastName:s}).then(e=>{200===e.status?(B(e.data),f(!b)):setError("Invalid username or password!")})}catch(e){console.log(e)}T()},[E,U]=(0,i.useState)(0),[I,$]=(0,i.useState)(0),R=(e,a)=>{let s=5*a;return e.slice(s,s+5)},G=()=>{U(e=>e-1)},Q=()=>{U(e=>e+1)},X=()=>{$(e=>e-1)},Y=()=>{$(e=>e+1)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Z,{}),(0,t.jsxs)("div",{className:r().profile_container,children:[(0,t.jsx)("div",{className:r().profile_header,children:k?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:r().profile_title,children:[(0,t.jsx)("h1",{children:"Profile"}),(0,t.jsx)("h5",{style:{color:"#0047AB",cursor:"pointer"},onClick:()=>f(!b),children:"Edit?"})]}),null===k.image?(0,t.jsx)("img",{height:225,width:225,alt:"default",src:"/out/default.png"}):(0,t.jsx)("img",{height:225,width:225,alt:"avatar",src:k.image}),(0,t.jsx)("h2",{children:k.username}),(0,t.jsxs)("h3",{children:[k.f_name," ",k.l_name]}),(0,t.jsxs)("h3",{children:["Fake Money: $",k.fake_money]}),(0,t.jsx)("h4",{style:{color:"#0047AB",cursor:"pointer"},onClick:()=>g(!N),children:"Deposit/Withdraw"}),N?(0,t.jsx)(_,{setMoney:g}):null]}):null}),b?(0,t.jsx)("div",{className:r().update_container,children:(0,t.jsxs)("div",{className:r().update_div_container,children:[(0,t.jsx)("div",{className:r().profile_body,children:(0,t.jsxs)("form",{onSubmit:W,children:[(0,t.jsxs)("div",{className:r().update_header,children:[(0,t.jsx)("h2",{children:"Account Information"}),(0,t.jsx)("span",{style:{cursor:"pointer"},onClick:()=>f(!1),children:"cancel"})]}),(0,t.jsx)("label",{htmlFor:"firstname",children:"First Name:"}),(0,t.jsx)("input",{type:"text",id:"firstname",value:e,onChange:Z}),(0,t.jsx)("label",{htmlFor:"lastname",children:"Last Name:"}),(0,t.jsx)("input",{type:"text",id:"lastname",value:s,onChange:P}),(0,t.jsx)("label",{htmlFor:"password",children:"Password:"}),(0,t.jsx)("input",{type:"password",id:"password",value:p,onChange:O}),(0,t.jsx)("label",{htmlFor:"username",children:"Username:"}),(0,t.jsx)("input",{type:"text",id:"username",value:c,onChange:D}),(0,t.jsx)("button",{type:"submit",children:"Save Changes"})]})}),(0,t.jsx)(u,{})]})}):null,v?(0,t.jsx)("div",{children:(0,t.jsx)("button",{className:r().findGame,onClick:()=>{A()},children:"Find Results"})}):null,C?(0,t.jsxs)("div",{className:r().table_div,children:[(0,t.jsx)("h2",{style:{paddingTop:20},children:"Your Bets"}),(0,t.jsxs)("table",{className:r().bet_table,children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:r().bet_table_header,children:"Teams"}),(0,t.jsx)("th",{className:r().bet_table_header,children:"Point Spread"}),(0,t.jsx)("th",{className:r().bet_table_header,children:"Total Points"}),(0,t.jsx)("th",{className:r().bet_table_header,children:"Money Line"}),(0,t.jsx)("th",{className:r().bet_table_header,children:"Bet Amount"}),(0,t.jsx)("th",{className:r().bet_table_header,children:"Payout"})]})}),(0,t.jsx)("tbody",{children:R(C,E).map(e=>{var a,s,l,i;return(0,t.jsxs)("tr",{onClick:()=>{w[e.bet_id-1]||(x?(j(""),y(!1)):(j(e),y(!0)))},className:r().bet_table_row,style:{backgroundColor:x&&x.bet_id===e.bet_id?"#424242":null},children:[(0,t.jsx)("td",{className:r().bet_table_cell,children:e.teams}),(0,t.jsx)("td",{className:r().bet_table_cell,children:void 0===w[e.bet_id-1]?(0,t.jsx)("div",{className:r().game_unfinished,children:e.point_spread}):(0,t.jsx)("div",{className:r().game_unfinished,style:{color:(null===(a=w[e.bet_id-1])||void 0===a?void 0:a.point_spread)?"green":"red"},children:e.point_spread})}),(0,t.jsx)("td",{className:r().bet_table_cell,children:void 0===w[e.bet_id-1]?(0,t.jsx)("div",{className:r().game_unfinished,children:e.total_points}):(0,t.jsx)("div",{className:r().game_unfinished,style:{color:(null===(s=w[e.bet_id-1])||void 0===s?void 0:s.total_points)?"green":"red"},children:e.total_points})}),(0,t.jsx)("td",{className:r().bet_table_cell,children:void 0===w[e.bet_id-1]?(0,t.jsxs)("div",{className:r().game_unfinished,children:[e.money_line," ",e.money_line_team]}):(0,t.jsxs)("div",{className:r().game_unfinished,style:{color:(null===(l=w[e.bet_id-1])||void 0===l?void 0:l.money_line)?"green":"red"},children:[e.money_line," ",e.money_line_team]})}),(0,t.jsxs)("td",{className:r().bet_table_cell,children:["$",e.bet_amount]}),(0,t.jsx)("td",{className:r().bet_table_cell,children:void 0===w[e.bet_id-1]?(0,t.jsxs)("div",{className:r().game_unfinished,children:["$",e.payout]}):(0,t.jsxs)("div",{className:r().game_unfinished,style:{color:(null===(i=w[e.bet_id-1])||void 0===i?void 0:i.payout)?"green":"red"},children:["$",e.payout]})})]},e.bet_id)})})]}),(0,t.jsxs)("div",{className:r().pagination,children:[(0,t.jsx)("button",{onClick:G,disabled:0===E,children:"Previous"}),(0,t.jsxs)("span",{className:r().pageNumber,children:["Page ",E+1," of ",Math.ceil(C.length/5)]}),(0,t.jsx)("button",{onClick:Q,disabled:E===Math.ceil(C.length/5)-1,children:"Next"})]})]}):null,F?(0,t.jsxs)("div",{className:r().table_div,children:[(0,t.jsx)("h2",{style:{paddingTop:20},children:"Transaction History"}),(0,t.jsxs)("table",{className:r().transaction_table,children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:r().bet_table_header,children:"Date"}),(0,t.jsx)("th",{className:r().bet_table_header,children:"Type"}),(0,t.jsx)("th",{className:r().bet_table_header,children:"Amount"}),(0,t.jsx)("th",{className:r().bet_table_header,children:"Balance"})]})}),(0,t.jsx)("tbody",{children:R(F,I).map(e=>(0,t.jsxs)("tr",{className:r().bet_table_row,children:[(0,t.jsx)("td",{className:r().bet_table_cell,children:e.date}),(0,t.jsx)("td",{className:r().bet_table_cell,children:e.transaction_type}),(0,t.jsx)("td",{className:r().bet_table_cell,children:e.transaction_amount}),(0,t.jsxs)("td",{className:r().bet_table_cell,children:["$",e.money_in_account]})]},e.transaction_id))})]}),(0,t.jsxs)("div",{className:r().pagination,children:[(0,t.jsx)("button",{onClick:X,disabled:0===I,children:"Previous"}),(0,t.jsxs)("span",{className:r().pageNumber,children:["Page ",I+1," of",Math.ceil(F.length/5)]}),(0,t.jsx)("button",{onClick:Y,disabled:I===Math.ceil(F.length/5)-1,children:"Next"})]})]}):null]})]})}},183:function(e,a,s){"use strict";var t=s(5893),l=s(7294),i=s(6154),n=s(7355),r=s.n(n),o=s(1664),d=s.n(o),c=s(4566);a.Z=function(){let[e,a]=(0,l.useState)(!1),[s,n]=(0,l.useState)(!1),{user:o,setUser:h}=(0,c.b)(),_=()=>{try{i.Z.post("https://sports-odds.herokuapp.com/api/logout").then(e=>{200===e.status&&h(null)})}catch(e){console.log(e)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:r().navbar,children:[(0,t.jsx)("div",{style:{marginLeft:10},children:(0,t.jsx)(d(),{href:"/",children:(0,t.jsx)("img",{alt:"",className:r().logo,src:"/out/Sports Odds-1.png"})})}),(0,t.jsx)("li",{className:r().li,children:(0,t.jsx)(d(),{className:r().link,href:"/NFL",children:"NFL"})}),(0,t.jsx)("li",{className:r().li,children:(0,t.jsx)(d(),{className:r().link,href:"/NBA",children:"NBA"})}),(0,t.jsx)("li",{className:r().li,children:(0,t.jsx)(d(),{className:r().link,href:"/WNBA",children:"WNBA"})}),(0,t.jsx)("li",{className:r().li,children:(0,t.jsx)(d(),{className:r().link,href:"/MLB",children:"MLB"})}),(0,t.jsx)("li",{className:r().li,children:(0,t.jsx)(d(),{className:r().link,href:"/NHL",children:"NHL"})}),(0,t.jsx)("li",{className:r().li,children:(0,t.jsxs)("div",{onMouseEnter:()=>{a(!0)},onMouseLeave:()=>{a(!1)},className:r().link,children:["NCAA",e?(0,t.jsxs)("div",{className:r().seeMore,children:[(0,t.jsx)("li",{className:r().seeMoreli,children:(0,t.jsx)(d(),{className:r().seeMoreLink,href:"/MCBB",children:"MCBB"})}),(0,t.jsx)("li",{className:r().seeMoreli,children:(0,t.jsx)(d(),{className:r().seeMoreLink,href:"/WCBB",children:"WCBB"})}),(0,t.jsx)("li",{className:r().seeMoreli,children:(0,t.jsx)(d(),{className:r().seeMoreLink,href:"/CFB",children:"CFB"})})]}):null]})}),o?(0,t.jsxs)("div",{className:r().login_or_profile,children:[(0,t.jsx)("li",{className:r().li,children:(0,t.jsx)(d(),{className:r().link,href:"/profile",children:"Profile"})}),(0,t.jsx)("li",{onClick:()=>{_()},className:r().li,children:(0,t.jsx)(d(),{className:r().link,href:"/",children:"Logout"})})]}):(0,t.jsx)("div",{className:r().login_or_profile,children:(0,t.jsx)("li",{className:r().li,children:(0,t.jsx)(d(),{className:r().link,href:"/login",children:"Login"})})})]}),(0,t.jsxs)("div",{className:r().mobile_navbar,children:[(0,t.jsx)("div",{style:{marginLeft:10},children:(0,t.jsx)(d(),{href:"/",children:(0,t.jsx)("img",{alt:"",className:r().logo,src:"/out/Sports Odds-1.png"})})}),(0,t.jsx)("span",{onClick:()=>n(!s),className:r().hamburger,children:"â˜°"})]}),s?(0,t.jsxs)("div",{className:r().mobile_li,children:[(0,t.jsx)("li",{className:r().li,children:(0,t.jsx)(d(),{className:r().link,href:"/NFL",children:"NFL"})}),(0,t.jsx)("li",{className:r().li,children:(0,t.jsx)(d(),{className:r().link,href:"/NBA",children:"NBA"})}),(0,t.jsx)("li",{className:r().li,children:(0,t.jsx)(d(),{className:r().link,href:"/WNBA",children:"WNBA"})}),(0,t.jsx)("li",{className:r().li,children:(0,t.jsx)(d(),{className:r().link,href:"/MLB",children:"MLB"})}),(0,t.jsx)("li",{className:r().li,children:(0,t.jsx)(d(),{className:r().link,href:"/NHL",children:"NHL"})}),(0,t.jsx)("li",{className:r().li,children:(0,t.jsxs)("div",{onClick:()=>{a(!e)},className:r().link,children:["NCAA",e?(0,t.jsxs)("div",{className:r().seeMore,children:[(0,t.jsx)("li",{className:r().seeMoreli,children:(0,t.jsx)(d(),{className:r().seeMoreLink,href:"/MCBB",children:"MCBB"})}),(0,t.jsx)("li",{className:r().seeMoreli,children:(0,t.jsx)(d(),{className:r().seeMoreLink,href:"/WCBB",children:"WCBB"})}),(0,t.jsx)("li",{className:r().seeMoreli,children:(0,t.jsx)(d(),{className:r().seeMoreLink,href:"/CFB",children:"CFB"})})]}):null]})}),o?(0,t.jsxs)("div",{className:r().login_or_profile,children:[(0,t.jsx)("li",{className:r().li,children:(0,t.jsx)(d(),{className:r().link,href:"/profile",children:"Profile"})}),(0,t.jsx)("li",{onClick:()=>{_()},className:r().li,children:(0,t.jsx)(d(),{className:r().link,href:"/",children:"Logout"})})]}):(0,t.jsx)("div",{className:r().login_or_profile,children:(0,t.jsx)("li",{className:r().li,children:(0,t.jsx)(d(),{className:r().link,href:"/login",children:"Login"})})})]}):null]})}},7355:function(e){e.exports={li:"Header_li__hAG_C",link:"Header_link__nMT9k",navbar:"Header_navbar__7ndZO",seeMore:"Header_seeMore__QBAN3",seeMoreli:"Header_seeMoreli__aOKUk",seeMoreLink:"Header_seeMoreLink__HxtEr",login_or_profile:"Header_login_or_profile__Alwf4",logo:"Header_logo__cDK8p",hamburger:"Header_hamburger__HopNH",mobile_navbar:"Header_mobile_navbar__v8otW",mobile_li:"Header_mobile_li__HnSQw"}},3363:function(e){e.exports={container:"dropbox_container__PSH_h",fileInput:"dropbox_fileInput__kEDPn",uploadLabel:"dropbox_uploadLabel___sPfg",uploadButton:"dropbox_uploadButton__U1BJx",fileUrl:"dropbox_fileUrl__5DMHe"}},8702:function(e){e.exports={betting_account:"money_change_betting_account__vAHRm"}},8094:function(e){e.exports={profile_container:"profile_profile_container__aT3XU",profile_header:"profile_profile_header__Eiykh",pagination:"profile_pagination___gb_i",pageNumber:"profile_pageNumber__Q9_rO",game_unfinished:"profile_game_unfinished__11wR_",profile_title:"profile_profile_title__fHYd4",update_container:"profile_update_container__4REXa",update_div_container:"profile_update_div_container__dvuZk",update_header:"profile_update_header__6zu7D",profile_body:"profile_profile_body__ti6lI",bet_table:"profile_bet_table___nxZQ",transaction_table:"profile_transaction_table__ylOik",bet_table_header:"profile_bet_table_header__Fnrqz",bet_table_cell:"profile_bet_table_cell__ffSBH",bet_table_row:"profile_bet_table_row__CQhv_",findGame:"profile_findGame__FG_7u",table_div:"profile_table_div__ZMavS"}}},function(e){e.O(0,[154,664,774,888,179],function(){return e(e.s=9344)}),_N_E=e.O()}]);